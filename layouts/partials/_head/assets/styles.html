{{/*  see: http://smacss.com/  */}}

{{/* Third parties */}}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css">

{{- $files := slice -}}
{{- $files = $files | append "vars" -}}
{{- $files = $files | append "reset" -}}
{{- $files = $files | append "layouts" -}}
{{- $files = $files | append "states" -}}

{{- $files = $files | append "modules/blocks/category" -}}
{{- $files = $files | append "modules/blocks/permalink" -}}
{{- $files = $files | append "modules/blocks/published-date" -}}
{{- $files = $files | append "modules/blocks/reading-time" -}}
{{- $files = $files | append "modules/blocks/translations" -}}
{{- $files = $files | append "modules/list/posts" -}}
{{- $files = $files | append "modules/single/posts" -}}
{{- $files = $files | append "modules/avatar" -}}
{{- $files = $files | append "modules/figure" -}}
{{- $files = $files | append "modules/footer" -}}
{{- $files = $files | append "modules/input" -}}
{{- $files = $files | append "modules/list" -}}
{{- $files = $files | append "modules/menu" -}}
{{- $files = $files | append "modules/pager" -}}
{{- $files = $files | append "modules/popup" -}}
{{- $files = $files | append "modules/search" -}}

{{- $sources := slice -}}
{{- range $files -}}
	{{- $fullpath := printf "styles/%s.css" . -}}
	{{- $sources = $sources | append (resources.Get $fullpath | resources.ExecuteAsTemplate $fullpath $) -}}
{{- end -}}

{{- $bundle := $sources | resources.Concat "bundle.css" | minify | fingerprint "sha512" -}}
<link rel="stylesheet" href="{{- $bundle.Permalink -}}" integrity="{{- $bundle.Data.Integrity -}}">
